<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Asciidoctor 2.0.10" name="generator"/>
  <meta content="Mandar Chitre" name="author"/>
  <title>
   Underwater Networks Handbook
  </title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700" rel="stylesheet"/>
  <style>
   /* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
  </style>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
 </head>
 <body class="book toc2 toc-left">
  <div id="header">
   <h1>
    Underwater Networks Handbook
   </h1>
   <div class="details">
    <span class="author" id="author">
     Mandar Chitre
    </span>
    <br/>
    <span id="revnumber">
     version 3.0.3
    </span>
   </div>
   <div class="toc2" id="toc">
    <div id="toctitle">
     Table of Contents
    </div>
    <ul class="sectlevel1">
     <li>
      <a href="unet-handbook_preface.html">
       Preface
      </a>
     </li>
     <li>
      <a href="unet-handbook_part_i_introduction_to_unetstack.html">
       <strong>
        Part I: Introduction to UnetStack
       </strong>
      </a>
      <ul class="sectlevel1">
       <li>
        <a href="unet-handbook_introduction.html">
         1. Introduction
        </a>
       </li>
       <li>
        <a href="unet-handbook_getting_started.html">
         2. Getting started
        </a>
       </li>
       <li>
        <a href="unet-handbook_unetstack_basics.html">
         3. UnetStack basics
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="unet-handbook_part_ii_setting_up_underwater_networks.html">
       <strong>
        Part II: Setting up underwater networks
       </strong>
      </a>
      <ul class="sectlevel1">
       <li>
        <a href="unet-handbook_unet_basics.html">
         4. Unet basics
        </a>
       </li>
       <li>
        <a href="unet-handbook_setting_up_small_networks.html">
         5. Setting up small networks
        </a>
       </li>
       <li>
        <a href="unet-handbook_routing_in_larger_networks.html">
         6. Routing in larger networks
        </a>
       </li>
       <li>
        <a href="unet-handbook_wired_and_over_the_air_links.html">
         7. Wired and over-the-air links
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="unet-handbook_part_iii_building_unet_applications.html">
       <strong>
        Part III: Building Unet applications
       </strong>
      </a>
      <ul class="sectlevel1">
       <li>
        <a href="unet-handbook_interfacing_with_unetstack.html">
         8. Interfacing with UnetStack
        </a>
       </li>
       <li>
        <a href="unet-handbook_unetsocket_api.html">
         9. UnetSocket API
        </a>
       </li>
       <li>
        <a href="unet-handbook_portals.html">
         10. Portals
        </a>
       </li>
       <li>
        <a href="unet-handbook_at_script_engine.html">
         11. AT script engine
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="unet-handbook_part_iv_understanding_unetstack_services.html">
       <strong>
        Part IV: Understanding UnetStack services
       </strong>
      </a>
      <ul class="sectlevel1">
       <li>
        <a href="unet-handbook_services_and_capabilities.html">
         12. Services and capabilities
        </a>
       </li>
       <li>
        <a href="unet-handbook_datagram_service.html">
         13. Datagram service
        </a>
       </li>
       <li>
        <a href="unet-handbook_physical_service.html">
         14. Physical service
        </a>
       </li>
       <li>
        <a href="unet-handbook_baseband_service.html">
         15. Baseband service
        </a>
       </li>
       <li>
        <a href="unet-handbook_ranging_and_synchronization.html">
         16. Ranging and synchronization
        </a>
       </li>
       <li>
        <a href="unet-handbook_node_information.html">
         17. Node information
        </a>
       </li>
       <li>
        <a href="unet-handbook_address_resolution.html">
         18. Address resolution
        </a>
       </li>
       <li>
        <a href="unet-handbook_medium_access_control.html">
         19. Medium access control
        </a>
       </li>
       <li>
        <a href="unet-handbook_single_hop_links.html">
         20. Single-hop links
        </a>
       </li>
       <li>
        <a href="unet-handbook_routing_and_route_maintenance.html">
         21. Routing and route maintenance
        </a>
       </li>
       <li>
        <a href="unet-handbook_transport_service.html">
         22. Transport service
        </a>
       </li>
       <li>
        <a href="unet-handbook_remote_access.html">
         23. Remote access
        </a>
       </li>
       <li>
        <a href="unet-handbook_state_persistence.html">
         24. State persistence
        </a>
       </li>
       <li>
        <a href="unet-handbook_scheduler.html">
         25. Scheduler
        </a>
       </li>
       <li>
        <a href="unet-handbook_shell.html">
         26. Shell
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="unet-handbook_part_v_extending_unetstack.html">
       <strong>
        Part V: Extending UnetStack
       </strong>
      </a>
      <ul class="sectlevel1">
       <li>
        <a href="unet-handbook_developing_your_own_agents.html">
         27. Developing your own agents
        </a>
       </li>
       <li>
        <a href="unet-handbook_implementing_network_protocols.html">
         28. Implementing network protocols
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="unet-handbook_part_vi_simulating_underwater_networks.html">
       <strong>
        Part VI: Simulating underwater networks
       </strong>
      </a>
      <ul class="sectlevel1">
       <li>
        <a href="unet-handbook_writing_simulation_scripts.html">
         29. Writing simulation scripts
        </a>
       </li>
       <li>
        <a href="unet-handbook_discrete_event_simulation.html">
         30. Discrete event simulation
        </a>
       </li>
       <li>
        <a href="unet-handbook_modems_and_channel_models.html">
         31. Modems and channel models
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="unet-handbook_appendices.html">
       <strong>
        Appendices
       </strong>
      </a>
      <ul class="sectlevel1">
       <li>
        <a href="unet-handbook_faqs_and_resources.html">
         Appendix A: FAQs and resources
        </a>
       </li>
       <li>
        <a href="unet-handbook_list_of_services.html">
         Appendix B: List of services
        </a>
       </li>
       <li>
        <a href="unet-handbook_command_reference.html">
         Appendix C: Command reference
        </a>
       </li>
       <li>
        <a href="unet-handbook_mysimplehandshakemac.html">
         Appendix D: MySimpleHandshakeMac
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </div>
  </div>
  <div id="content">
   <div class="sect1">
    <h2 id="_discrete_event_simulation">
     30. Discrete event simulation
    </h2>
    <div class="sectionbody">
     <div class="paragraph">
      <p>
       Running simulations in realtime gives us an experience which is very similar to working with a real Unet, as we have seen in earlier chapters. This is very useful when you want to interact with the network manually, through a shell. However, as a network designer or protocol developer, you may sometimes need to run simulations to see how the network performs over days or months, and maybe run many such simulations, each with slightly different network settings or configuration. Doing this with a realtime simulator is impractical, as a realtime simulation would take days or months to run. The Unet simulator can be run in a
       <em>
        discrete event
       </em>
       mode, where the waiting time between events is
       <em>
        fast-forwarded
       </em>
       to yield results worth hours or days of real time within minutes. In this chapter, we explore how to use the disrete event mode for simulation of protocol performance.
      </p>
     </div>
     <div class="sect2">
      <h3 id="_aloha_performance_analysis">
       30.1. ALOHA performance analysis
      </h3>
      <div class="paragraph">
       <p>
        The
        <em>
         hello world
        </em>
        of the networking world is the
        <a href="https://en.wikipedia.org/wiki/ALOHAnet" rel="noopener" target="_blank">
         ALOHA
        </a>
        MAC protocol. The protocol is very simple: transmit a frame as soon as data arrives, without worrying about whether any other node is transmitting. While this behavior is straightforward to describe, simulating it accurately requires some thought.
       </p>
      </div>
      <div class="paragraph">
       <p>
        Let’s say we want to simulate a network with ALOHA MAC. On each node, we expect data to arrive randomly, with a known average arrival rate. The total number of data "chunks" arriving per unit time across the network is termed as
        <em>
         offered load
        </em>
        . As soon as a data chunk arrives, the node transmits it to a randomly chosen destination node (other than itself). The number of successfully delivered data chunks per unit time, across the entire network, is called the
        <em>
         throughput
        </em>
        . We are interested to study how the throughput varies as a function of offered load.
       </p>
      </div>
      <div class="paragraph">
       <p>
        ALOHA has been extensively studied in literature, and its theoretical performance is well known. In order to simulate a network that can be compared against theory, we need to ensure that our simulation matches the assumptions made in the theoretical derivations:
       </p>
      </div>
      <div class="olist arabic">
       <ol class="arabic">
        <li>
         <p>
          The random arrival process follows a Poisson distribution.
         </p>
        </li>
        <li>
         <p>
          If two frames arrive at a receiver with some overlap in time, they collide and are lost. Neither frame can be successfully decoded.
         </p>
        </li>
        <li>
         <p>
          Each node is half-duplex, i.e., it cannot receive a frame while it is transmitting.
         </p>
        </li>
        <li>
         <p>
          No frames are lost due to noise or channel effects such as multipath.
         </p>
        </li>
        <li>
         <p>
          There is no propagation delay between nodes.
         </p>
        </li>
       </ol>
      </div>
      <div class="paragraph">
       <p>
        Assumptions 2 and 4 together form a model called the
        <em>
         protocol
        </em>
        channel model. We tell the simulator to adopt this model:
       </p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="rouge highlight"><code data-lang="groovy"><span class="n">channel</span><span class="o">.</span><span class="na">model</span> <span class="o">=</span> <span class="n">ProtocolChannelModel</span></code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>
        Underwater acoustic modems are usually half-duplex, and the default modem model in the simulator is the
        <code>
         HalfDuplexModem
        </code>
        , so we shouldn’t need to do anything special for assumption 3. However, the
        <code>
         HalfDuplexModem
        </code>
        is smart enough to delay a transmission if another frame is being transmitted or received by the node, to avoid losing the other frame. While this is usually a good thing to do, it will violate assumption 3 and give us results that don’t agree with theory. To match the theoretical behavior, we have to stop any ongoing transmission or reception, when new data arrives for transmission:
       </p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="rouge highlight"><code data-lang="groovy"><span class="n">phy</span> <span class="o">&lt;&lt;</span> <span class="k">new</span> <span class="n">ClearReq</span><span class="o">()</span>                       <span class="c1">// stop ongoing transmission/reception</span>
<span class="n">phy</span> <span class="o">&lt;&lt;</span> <span class="k">new</span> <span class="n">TxFrameReq</span><span class="o">(</span><span class="nl">to:</span> <span class="n">dst</span><span class="o">,</span> <span class="nl">type:</span> <span class="n">DATA</span><span class="o">)</span>  <span class="c1">// transmit a data frame to dst</span></code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>
        The offered load and throughput are usually
        <em>
         normalized
        </em>
        by the number of frames that can be supported by the channel per unit time. By setting the frame duration to be one second, we ensure that the normalization factor is 1 (one packet can be transitted per second without collision). To do this, we set up the simulated modem to have no header/preamble overheads, and exactly 1 second worth of data that it can carry in a frame:
       </p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="rouge highlight"><code data-lang="groovy"><span class="n">modem</span><span class="o">.</span><span class="na">dataRate</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2400</span><span class="o">,</span> <span class="mi">2400</span><span class="o">].</span><span class="na">bps</span>           <span class="c1">// arbitrary data rate</span>
<span class="n">modem</span><span class="o">.</span><span class="na">frameLength</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2400</span><span class="s">/8, 2400/</span><span class="mi">8</span><span class="o">].</span><span class="na">bytes</span>  <span class="c1">// 1 second worth of data per frame</span>
<span class="n">modem</span><span class="o">.</span><span class="na">headerLength</span> <span class="o">=</span> <span class="mi">0</span>                      <span class="c1">// no overhead from header</span>
<span class="n">modem</span><span class="o">.</span><span class="na">preambleDuration</span> <span class="o">=</span> <span class="mi">0</span>                  <span class="c1">// no overhead from preamble</span>
<span class="n">modem</span><span class="o">.</span><span class="na">txDelay</span> <span class="o">=</span> <span class="mi">0</span>                           <span class="c1">// don't simulate hardware delays</span></code></pre>
       </div>
      </div>
      <div class="admonitionblock tip">
       <table>
        <tr>
         <td class="icon">
          <i class="fa icon-tip" title="Tip">
          </i>
         </td>
         <td class="content">
          You can read more about
          <code>
           modem
          </code>
          models in
          <a href="unet-handbook_modems_and_channel_models.html#_modem_models">
           Section 31.1
          </a>
          .
         </td>
        </tr>
       </table>
      </div>
      <div class="paragraph">
       <p>
        A Poisson process (assumption 1) is easily simulated using the
        <code>
         PoissonBehavior
        </code>
        available in fjåge. Assumption 5 can also be easily met by placing all nodes at the same location.
       </p>
      </div>
      <div class="paragraph">
       <p>
        Now let’s put a first version of our script together to simulate a 4-node ALOHA network:
       </p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="rouge highlight"><code data-lang="groovy"><span class="kn">import</span> <span class="nn">org.arl.fjage.*</span>
<span class="kn">import</span> <span class="nn">org.arl.unet.*</span>
<span class="kn">import</span> <span class="nn">org.arl.unet.phy.*</span>
<span class="kn">import</span> <span class="nn">org.arl.unet.sim.*</span>
<span class="kn">import</span> <span class="nn">org.arl.unet.sim.channels.*</span>

<span class="n">channel</span><span class="o">.</span><span class="na">model</span> <span class="o">=</span> <span class="n">ProtocolChannelModel</span>        <span class="c1">// use the protocol channel model</span>
<span class="n">modem</span><span class="o">.</span><span class="na">dataRate</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2400</span><span class="o">,</span> <span class="mi">2400</span><span class="o">].</span><span class="na">bps</span>           <span class="c1">// arbitrary data rate</span>
<span class="n">modem</span><span class="o">.</span><span class="na">frameLength</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2400</span><span class="s">/8, 2400/</span><span class="mi">8</span><span class="o">].</span><span class="na">bytes</span>  <span class="c1">// 1 second worth of data per frame</span>
<span class="n">modem</span><span class="o">.</span><span class="na">headerLength</span> <span class="o">=</span> <span class="mi">0</span>                      <span class="c1">// no overhead from header</span>
<span class="n">modem</span><span class="o">.</span><span class="na">preambleDuration</span> <span class="o">=</span> <span class="mi">0</span>                  <span class="c1">// no overhead from preamble</span>
<span class="n">modem</span><span class="o">.</span><span class="na">txDelay</span> <span class="o">=</span> <span class="mi">0</span>                           <span class="c1">// don't simulate hardware delays</span>

<span class="kt">def</span> <span class="n">nodes</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">4</span>                            <span class="c1">// list with 4 nodes</span>
<span class="kt">def</span> <span class="n">load</span> <span class="o">=</span> <span class="mf">0.2</span>                              <span class="c1">// offered load to simulate</span>

<span class="n">simulate</span> <span class="mi">2</span><span class="o">.</span><span class="na">hours</span><span class="o">,</span> <span class="o">{</span>                         <span class="c1">// simulate 2 hours of elapsed time</span>
  <span class="n">nodes</span><span class="o">.</span><span class="na">each</span> <span class="o">{</span> <span class="n">myAddr</span> <span class="o">-&gt;</span>
    <span class="kt">def</span> <span class="n">myNode</span> <span class="o">=</span> <span class="n">node</span> <span class="s2">"${myAddr}"</span><span class="o">,</span> <span class="nl">address:</span> <span class="n">myAddr</span><span class="o">,</span> <span class="nl">location:</span> <span class="o">[</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">]</span>
    <span class="n">myNode</span><span class="o">.</span><span class="na">startup</span> <span class="o">=</span> <span class="o">{</span>                      <span class="c1">// startup script to run on each node</span>
      <span class="kt">def</span> <span class="n">phy</span> <span class="o">=</span> <span class="n">agentForService</span><span class="o">(</span><span class="n">Services</span><span class="o">.</span><span class="na">PHYSICAL</span><span class="o">)</span>
      <span class="kt">def</span> <span class="n">arrivalRate</span> <span class="o">=</span> <span class="n">load</span><span class="s">/nodes.size()   /</span><span class="o">/</span> <span class="n">arrival</span> <span class="n">rate</span> <span class="n">per</span> <span class="n">node</span>
      <span class="n">add</span> <span class="k">new</span> <span class="nf">PoissonBehavior</span><span class="o">(</span><span class="mi">1000</span><span class="s">/arrivalRate, {     /</span><span class="o">/</span> <span class="n">avg</span> <span class="n">time</span> <span class="n">between</span> <span class="n">events</span> <span class="k">in</span> <span class="n">ms</span>
        <span class="kt">def</span> <span class="n">dst</span> <span class="o">=</span> <span class="n">rnditem</span><span class="o">(</span><span class="n">nodes</span><span class="o">-</span><span class="n">myAddr</span><span class="o">)</span>     <span class="c1">// choose destination randomly (excluding self)</span>
        <span class="n">phy</span> <span class="o">&lt;&lt;</span> <span class="k">new</span> <span class="n">ClearReq</span><span class="o">()</span>
        <span class="n">phy</span> <span class="o">&lt;&lt;</span> <span class="k">new</span> <span class="n">TxFrameReq</span><span class="o">(</span><span class="nl">to:</span> <span class="n">dst</span><span class="o">,</span> <span class="nl">type:</span> <span class="n">Physical</span><span class="o">.</span><span class="na">DATA</span><span class="o">)</span>
      <span class="o">})</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// display collected statistics</span>
<span class="n">println</span><span class="o">([</span><span class="n">trace</span><span class="o">.</span><span class="na">txCount</span><span class="o">,</span> <span class="n">trace</span><span class="o">.</span><span class="na">rxCount</span><span class="o">,</span> <span class="n">trace</span><span class="o">.</span><span class="na">offeredLoad</span><span class="o">,</span> <span class="n">trace</span><span class="o">.</span><span class="na">throughput</span><span class="o">])</span></code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>
        The script is easy to understand. In a 2-hour long simulation, we iterate over the list of nodes, and create each node at the origin. Each node adds a
        <code>
         PoissonBheavior
        </code>
        to generate random traffic at a rate corresponding to the offered
        <code>
         load
        </code>
        setting. The parameter of the Poisson behavior is the average time between events in milliseconds, which we compute based on the arrival rate. The destination for each transmission is randomly chosen from the list of nodes excluding the transmitting node. Once the simulation is completed, statistics are printed. The
        <code>
         trace
        </code>
        object is automatically defined by the simulator to collect typically required statistics.
       </p>
      </div>
      <div class="admonitionblock tip">
       <table>
        <tr>
         <td class="icon">
          <i class="fa icon-tip" title="Tip">
          </i>
         </td>
         <td class="content">
          The
          <code>
           rnditem(list)
          </code>
          function allows a random item to be chosen from a list. Other convenience functions related to random number generation include
          <code>
           rnd(min, max)
          </code>
          which generates a uniformly distributed random number between
          <code>
           min
          </code>
          and
          <code>
           max
          </code>
          , and
          <code>
           rndint(n)
          </code>
          which generates a uniformly distributed random number between
          <code>
           0
          </code>
          and
          <code>
           n-1
          </code>
          .
         </td>
        </tr>
       </table>
      </div>
      <div class="paragraph">
       <p>
        Open Unet IDE (
        <code>
         bin/unet sim
        </code>
        ), create a new simulation script in the
        <code>
         scripts
        </code>
        folder, copy this code in, and run it. Within a few seconds, you should see the results:
       </p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="rouge highlight"><code data-lang="unet">[1398, 1080, 0.13631, 0.105]
1 simulation completed in 2.817 seconds</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>
        Since this is a Monte-Carlo simulation driven by a random number generator, the statistics you see will be similar, but not identical. A total of 1398 frames were transmitted, and 1080 of them were successfully received. The measured offered load was 0.136, and the throughput was 0.105.
       </p>
      </div>
      <div class="admonitionblock tip">
       <table>
        <tr>
         <td class="icon">
          <i class="fa icon-tip" title="Tip">
          </i>
         </td>
         <td class="content">
          Wondering why the measured offered load of 0.136 is a little less than the 0.2 that we intended? When two transmissions arrive with a very small delay, the earlier transmission is dropped when the next transmission begins. Only fully completed transmissions are counted by the
          <code>
           trace
          </code>
          statistics collector, and hence it sees a slightly lower load.
         </td>
        </tr>
       </table>
      </div>
      <div class="paragraph">
       <p>
        Hang on a minute! The simulation was meant to run for 2 hours, but it finished in less than 3 seconds!!
       </p>
      </div>
      <div class="paragraph">
       <p>
        That’s because we ran the simulation in a discrete event simulation mode (it is the default mode, if we don’t set
        <code>
         platform = RealTimePlatform
        </code>
        ). We could have explicitly set it (
        <code>
         platform = DiscreteEventSimulator
        </code>
        ), if we wanted. Now that we can run hours worth of simulations in seconds, we can go ahead and measure ALOHA throughput at various load settings:
       </p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="rouge highlight"><code data-lang="groovy"><span class="kn">import</span> <span class="nn">org.arl.fjage.*</span>
<span class="kn">import</span> <span class="nn">org.arl.unet.*</span>
<span class="kn">import</span> <span class="nn">org.arl.unet.phy.*</span>
<span class="kn">import</span> <span class="nn">org.arl.unet.sim.*</span>
<span class="kn">import</span> <span class="nn">org.arl.unet.sim.channels.*</span>

<span class="n">println</span> <span class="s1">'''
Pure ALOHA simulation
=====================

TX Count\tRX Count\tOffered Load\tThroughput
--------\t--------\t------------\t----------'''</span>

<span class="n">channel</span><span class="o">.</span><span class="na">model</span> <span class="o">=</span> <span class="n">ProtocolChannelModel</span>        <span class="c1">// use the protocol channel model</span>
<span class="n">modem</span><span class="o">.</span><span class="na">dataRate</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2400</span><span class="o">,</span> <span class="mi">2400</span><span class="o">].</span><span class="na">bps</span>           <span class="c1">// arbitrary data rate</span>
<span class="n">modem</span><span class="o">.</span><span class="na">frameLength</span> <span class="o">=</span> <span class="o">[</span><span class="mi">2400</span><span class="s">/8, 2400/</span><span class="mi">8</span><span class="o">].</span><span class="na">bytes</span>  <span class="c1">// 1 second worth of data per frame</span>
<span class="n">modem</span><span class="o">.</span><span class="na">headerLength</span> <span class="o">=</span> <span class="mi">0</span>                      <span class="c1">// no overhead from header</span>
<span class="n">modem</span><span class="o">.</span><span class="na">preambleDuration</span> <span class="o">=</span> <span class="mi">0</span>                  <span class="c1">// no overhead from preamble</span>
<span class="n">modem</span><span class="o">.</span><span class="na">txDelay</span> <span class="o">=</span> <span class="mi">0</span>                           <span class="c1">// don't simulate hardware delays</span>

<span class="kt">def</span> <span class="n">nodes</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">4</span>                            <span class="c1">// list with 4 nodes</span>
<span class="n">trace</span><span class="o">.</span><span class="na">warmup</span> <span class="o">=</span> <span class="mi">15</span><span class="o">.</span><span class="na">minutes</span>                   <span class="c1">// collect statistics after a while</span>

<span class="k">for</span> <span class="o">(</span><span class="kt">def</span> <span class="n">load</span> <span class="o">=</span> <span class="mf">0.1</span><span class="o">;</span> <span class="n">load</span> <span class="o">&lt;=</span> <span class="mf">1.5</span><span class="o">;</span> <span class="n">load</span> <span class="o">+=</span> <span class="mf">0.1</span><span class="o">)</span> <span class="o">{</span>

  <span class="n">simulate</span> <span class="mi">2</span><span class="o">.</span><span class="na">hours</span><span class="o">,</span> <span class="o">{</span>                       <span class="c1">// simulate 2 hours of elapsed time</span>
    <span class="n">nodes</span><span class="o">.</span><span class="na">each</span> <span class="o">{</span> <span class="n">myAddr</span> <span class="o">-&gt;</span>
      <span class="kt">def</span> <span class="n">myNode</span> <span class="o">=</span> <span class="n">node</span> <span class="s2">"${myAddr}"</span><span class="o">,</span> <span class="nl">address:</span> <span class="n">myAddr</span><span class="o">,</span> <span class="nl">location:</span> <span class="o">[</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">]</span>
      <span class="n">myNode</span><span class="o">.</span><span class="na">startup</span> <span class="o">=</span> <span class="o">{</span>                    <span class="c1">// startup script to run on each node</span>
        <span class="kt">def</span> <span class="n">phy</span> <span class="o">=</span> <span class="n">agentForService</span><span class="o">(</span><span class="n">Services</span><span class="o">.</span><span class="na">PHYSICAL</span><span class="o">)</span>
        <span class="kt">def</span> <span class="n">arrivalRate</span> <span class="o">=</span> <span class="n">load</span><span class="s">/nodes.size() /</span><span class="o">/</span> <span class="n">arrival</span> <span class="n">rate</span> <span class="n">per</span> <span class="n">node</span>
        <span class="n">add</span> <span class="k">new</span> <span class="nf">PoissonBehavior</span><span class="o">(</span><span class="mi">1000</span><span class="s">/arrivalRate, {   /</span><span class="o">/</span> <span class="n">avg</span> <span class="n">time</span> <span class="n">between</span> <span class="n">events</span> <span class="k">in</span> <span class="n">ms</span>
          <span class="kt">def</span> <span class="n">dst</span> <span class="o">=</span> <span class="n">rnditem</span><span class="o">(</span><span class="n">nodes</span><span class="o">-</span><span class="n">myAddr</span><span class="o">)</span>   <span class="c1">// choose destination randomly (excluding self)</span>
          <span class="n">phy</span> <span class="o">&lt;&lt;</span> <span class="k">new</span> <span class="n">ClearReq</span><span class="o">()</span>
          <span class="n">phy</span> <span class="o">&lt;&lt;</span> <span class="k">new</span> <span class="n">TxFrameReq</span><span class="o">(</span><span class="nl">to:</span> <span class="n">dst</span><span class="o">,</span> <span class="nl">type:</span> <span class="n">Phyiscal</span><span class="o">.</span><span class="na">DATA</span><span class="o">)</span>
        <span class="o">})</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span> <span class="c1">// simulate</span>

  <span class="c1">// tabulate collected statistics</span>
  <span class="n">println</span> <span class="nf">sprintf</span><span class="o">(</span><span class="s1">'%6d\t\t%6d\t\t%7.3f\t\t%7.3f'</span><span class="o">,</span>
    <span class="o">[</span><span class="n">trace</span><span class="o">.</span><span class="na">txCount</span><span class="o">,</span> <span class="n">trace</span><span class="o">.</span><span class="na">rxCount</span><span class="o">,</span> <span class="n">trace</span><span class="o">.</span><span class="na">offeredLoad</span><span class="o">,</span> <span class="n">trace</span><span class="o">.</span><span class="na">throughput</span><span class="o">])</span>

<span class="o">}</span> <span class="c1">// for</span></code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>
        Other than the pretty printing to tabulate the output, you’ll see that we have added a
        <code>
         trace.warmup
        </code>
        time. This is to ensure that we only collect statistics after the simulation has reached steady state (in this case, after 15 minutes of simulation time).
       </p>
      </div>
      <div class="paragraph">
       <p>
        A slightly beautified copy of the above code is available in the
        <code>
         samples/aloha.groovy
        </code>
        script. You can either run that, or run the above code. You should see something like this output:
       </p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="rouge highlight"><code data-lang="unet">Pure ALOHA simulation
=====================

TX Count        RX Count        Offered Load    Throughput
--------        --------        ------------    ----------
   614             525            0.068           0.058
  1228             962            0.137           0.107
  1871            1249            0.209           0.139
  2480            1407            0.277           0.156
  3093            1535            0.347           0.171
  3759            1616            0.421           0.180
  4273            1665            0.479           0.183
  4971            1599            0.558           0.178
  5540            1605            0.622           0.178
  6256            1532            0.702           0.170
  6940            1375            0.783           0.153
  7338            1407            0.826           0.156
  7992            1338            0.904           0.149
  8598            1282            0.972           0.142
  9394            1048            1.062           0.116

15 simulations completed in 102.494 seconds</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>
        As expected from the ALOHA protocol, the maximum throughput of about 0.18 is reached at an offered load of about 0.5. We plot this against the theoretical ALOHA performance curve (
        <code>
         y = x exp(-2x)
        </code>
        ) in
        <a href="#fig_aloha">
         Figure 10
        </a>
        .
       </p>
      </div>
      <div class="imageblock" id="fig_aloha">
       <div class="content">
        <img alt="aloha" src="images/aloha.png" width="600"/>
       </div>
       <div class="title">
        Figure 10. Simulated and theoretical ALOHA performance.
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="_logs_traces_and_statistics">
       30.2. Logs, traces and statistics
      </h3>
      <div class="paragraph">
       <p>
        When a simulation is run, usually two files are produced.
       </p>
      </div>
      <div class="sect3">
       <h4 id="_log_file">
        30.2.1. Log file
       </h4>
       <div class="paragraph">
        <p>
         The
         <code>
          logs/log-0.txt
         </code>
         file contains detailed text logs from the Java logging framework. Your agents and simulation scripts may log additional information to this file using
         <code>
          log.info()
         </code>
         or
         <code>
          log.fine()
         </code>
         methods. This provides a flexible and customizable way to log events in your simulation for later analysis.
        </p>
       </div>
       <div class="paragraph">
        <p>
         A typical extract of the log file is shown below:
        </p>
       </div>
       <div class="listingblock">
        <div class="content">
         <pre class="rouge highlight"><code data-lang="text">1569242004546|INFO|org.arl.unet.nodeinfo.NodeInfo@558:setAddress|Node address changed to 1
1569242004548|INFO|Script1@558:invoke|Created static node 1 (1) @ [0, 0, 0]
1569242004552|INFO|org.arl.unet.nodeinfo.NodeInfo@558:setAddress|Node address changed to 2
1569242004553|INFO|Script1@558:invoke|Created static node 2 (2) @ [0, 0, 0]
1569242004553|INFO|org.arl.unet.nodeinfo.NodeInfo@558:setAddress|Node address changed to 3
1569242004554|INFO|Script1@558:invoke|Created static node 3 (3) @ [0, 0, 0]
1569242004554|INFO|org.arl.unet.nodeinfo.NodeInfo@558:setAddress|Node address changed to 4
1569242004554|INFO|Script1@558:invoke|Created static node 4 (4) @ [0, 0, 0]
1569242004555|INFO|Script1@558:invoke| --- BEGIN SIMULATION #1 ---
0|INFO|org.arl.unet.sim.SimulationContainer@558:init|Initializing agents...
0|INFO|org.arl.unet.sim.SimulationAgent/1@561:invoke|Loading simulator : SimulationAgent
0|INFO|org.arl.unet.nodeinfo.NodeInfo/1@560:init|Loading agent node v3.0
0|INFO|org.arl.unet.sim.HalfDuplexModem/1@559:init|Loading agent phy v3.0
  :
  :
5673|INFO|org.arl.unet.sim.SimulationAgent/4@570:call|TxFrameNtf:INFORM[type:DATA txTime:2066947222]
6511|INFO|org.arl.unet.sim.SimulationAgent/3@567:call|TxFrameNtf:INFORM[type:DATA txTime:1157370743]
10919|INFO|org.arl.unet.sim.SimulationAgent/4@570:call|TxFrameNtf:INFORM[type:DATA txTime:2072193222</code></pre>
        </div>
       </div>
       <div class="paragraph">
        <p>
         Note that the timestamp (first column) changes from the clock time to discrete event time when the simulation starts, and switches back to clock time when the simulation ends.
        </p>
       </div>
      </div>
     </div>
     <div class="sect2">
      <h3 id="_trace_file">
       30.3. Trace file
      </h3>
      <div class="paragraph">
       <p>
        A trace file contains information about all packet creation, transmission, reception and drop events. It also contains details of node motion.
       </p>
      </div>
      <div class="paragraph">
       <p>
        The default, the trace file format is similar to the NS2 NAM trace, and the trace filename is
        <code>
         logs/trace.nam
        </code>
        . The tracer also computes basic statistics including queued packet count, transmitted packet count, received packet count, dropped packet count, offered load, actual load, average packet latency and normalized throughput. An extract from the trace file is shown below:
       </p>
      </div>
      <div class="listingblock">
       <div class="content">
        <pre class="rouge highlight"><code data-lang="text"># BEGIN SIMULATION 1
n -t 8.005000 -s 3 -x 0.000000 -y 0.000000 -Z 0.000000 -a 3
+ -t 8.005000 -s 3 -d 2 -i 40839989 -p 0 -x {3.0 2.0 -1 ------- null}
- -t 8.005000 -s 3 -d 2 -i 40839989 -p 0 -x {3.0 2.0 -1 ------- null}
n -t 8.005000 -s 1 -x 0.000000 -y 0.000000 -Z 0.000000 -a 1
n -t 8.005000 -s 2 -x 0.000000 -y 0.000000 -Z 0.000000 -a 2
n -t 8.005000 -s 4 -x 0.000000 -y 0.000000 -Z 0.000000 -a 4
r -t 9.005000 -s 3 -d 2 -i 40839989 -p 0 -x {3.0 2.0 -1 ------- null}
r -t 9.005000 -s 3 -d 1 -i 40839989 -p 0 -x {3.0 2.0 -1 ------- null}
r -t 9.005000 -s 3 -d 4 -i 40839989 -p 0 -x {3.0 2.0 -1 ------- null}
+ -t 42.042000 -s 1 -d 2 -i 254433913 -p 0 -x {1.0 2.0 -1 ------- null}
- -t 42.042000 -s 1 -d 2 -i 254433913 -p 0 -x {1.0 2.0 -1 ------- null}
r -t 43.042000 -s 1 -d 2 -i 254433913 -p 0 -x {1.0 2.0 -1 ------- null}
r -t 43.042000 -s 1 -d 4 -i 254433913 -p 0 -x {1.0 2.0 -1 ------- null}
r -t 43.042000 -s 1 -d 3 -i 254433913 -p 0 -x {1.0 2.0 -1 ------- null}
  :
  :
d -t 584.925000 -s 1 -d 4 -i 259068939 -p 0 -x {1.0 4.0 -1 ------- null} -y CLEAR
+ -t 584.925000 -s 4 -d 1 -i -2069119004 -p 0 -x {4.0 1.0 -1 ------- null}
- -t 584.925000 -s 4 -d 1 -i -2069119004 -p 0 -x {4.0 1.0 -1 ------- null}
d -t 584.925000 -s 4 -d 1 -i -2069119004 -p 0 -x {4.0 1.0 -1 ------- null} -y COLLISION
d -t 584.925000 -s 4 -d 2 -i -2069119004 -p 0 -x {4.0 1.0 -1 ------- null} -y COLLISION
d -t 584.925000 -s 4 -d 3 -i -2069119004 -p 0 -x {4.0 1.0 -1 ------- null} -y COLLISION
d -t 585.747000 -s 1 -d 2 -i 259068939 -p 0 -x {1.0 4.0 -1 ------- null} -y BAD_FRAME
d -t 585.747000 -s 1 -d 3 -i 259068939 -p 0 -x {1.0 4.0 -1 ------- null} -y BAD_FRAME
  :
  :
# STATS: q=621, t=621, r=506, d=115, O=0.099, L=0.099, D=0.000, T=0.080
# END SIMULATION 1</code></pre>
       </div>
      </div>
      <div class="paragraph">
       <p>
        Lines starting with
        <code>
         n
        </code>
        log node locations/motion. Lines starting with
        <code>
         +
        </code>
        denote packet arrival into the transmit queue. Lines starting with
        <code>
         -
        </code>
        log packet removal from the transmit queue, i.e., transmission. Lines starting with
        <code>
         r
        </code>
        denote packet reception (or overhearing). Lines starting with
        <code>
         d
        </code>
        log packet drops, and specify a reason for the drop.
        <code>
         CLEAR
        </code>
        indicates a packet transmission/reception abort due to a
        <code>
         ClearReq
        </code>
        request.
        <code>
         COLLISION
        </code>
        indicates that the packet was dropped because the node was busy receiving or transmitting another packet.
        <code>
         BAD_FRAME
        </code>
        indicates that the packet was corrupted (possibly due to interference from a colliding packet).
       </p>
      </div>
      <div class="paragraph">
       <p>
        For more details on the trace file format, see
        <a href="http://nsnam.sourceforge.net/wiki/index.php/NS-2_Trace_Formats" rel="noopener" target="_blank">
         NS2 NAM trace format
        </a>
        .
       </p>
      </div>
      <div class="admonitionblock tip">
       <table>
        <tr>
         <td class="icon">
          <i class="fa icon-tip" title="Tip">
          </i>
         </td>
         <td class="content">
          While the trace provides a simple file format and collects statistics for you, the events monitored by the trace are currently limited to PHYSICAL service events. If you need to monitor or log events from other agents, you would want to use log files.
         </td>
        </tr>
       </table>
      </div>
      <div class="sidebarblock">
       <div class="content">
        <div class="title">
         Customizing your trace file
        </div>
        <div class="paragraph">
         <p>
          The trace can be configured in the simulation script. By default, the trace uses the
          <a href="https://unetstack.net/javadoc/3.0/index.html?org/arl/unet/sim/NamTracer.html" rel="noopener" target="_blank">
           <code>
            NamTracer
           </code>
          </a>
          class to create a
          <code>
           logs/trace.nam
          </code>
          file:
         </p>
        </div>
        <div class="listingblock">
         <div class="content">
          <pre class="rouge highlight"><code data-lang="groovy"><span class="n">trace</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NamTracer</span><span class="o">()</span>
<span class="n">trace</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="s1">'logs/trace.nam'</span><span class="o">)</span></code></pre>
         </div>
        </div>
        <div class="paragraph">
         <p>
          An alternate class extending the
          <a href="https://unetstack.net/javadoc/3.0/index.html?org/arl/unet/sim/Tracer.html" rel="noopener" target="_blank">
           <code>
            Tracer
           </code>
          </a>
          abstract class can be specified, if you wish to write your own advanced custom tracer.
         </p>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
   <table width="100%">
    <tr>
     <td align="left" width="50%">
      <a href="unet-handbook_writing_simulation_scripts.html" style="text-decoration: none;">
       &lt;&lt;&lt; [Writing simulation scripts]
      </a>
     </td>     <td align="right" width="50%">
      <a href="unet-handbook_modems_and_channel_models.html" style="text-decoration: none;">
       [Modems and channel models] &gt;&gt;&gt;
      </a>
     </td>
    </tr>
   </table>
  </div>
  <div id="footer">
   <div id="footer-text">
    Version 3.0.3
    <br/>
    Last updated 2020-02-07 16:49:19 +0800
   </div>
   <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-52885583-1', 'auto');
    ga('send', 'pageview');
   </script>
  </div>
  <style>
   pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge {
  color: #faf6e4;
  background-color: #122b3b;
}
pre.rouge .gl {
  color: #dee5e7;
  background-color: #4e5d62;
}
pre.rouge .gp {
  color: #a8e1fe;
  font-weight: bold;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6c8b9f;
  font-style: italic;
}
pre.rouge .cp {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .err {
  color: #fefeec;
  background-color: #cc0000;
}
pre.rouge .gr {
  color: #cc0000;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kv {
  color: #f6dd62;
  font-weight: bold;
}
pre.rouge .o, pre.rouge .ow {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .p, pre.rouge .pi {
  color: #4df4ff;
}
pre.rouge .gd {
  color: #cc0000;
}
pre.rouge .gi {
  color: #b2fd6d;
}
pre.rouge .ge {
  font-style: italic;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gt {
  color: #dee5e7;
  background-color: #4e5d62;
}
pre.rouge .kc {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .kn {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .gh {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .gu {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .no {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nc {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nd {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nn {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .bp {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .ne {
  color: #b2fd6d;
  font-weight: bold;
}
pre.rouge .nl {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .nt {
  color: #ffb000;
  font-weight: bold;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .ld {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .ss {
  color: #f696db;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sb, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .sh, pre.rouge .sx, pre.rouge .sr, pre.rouge .s1 {
  color: #fff0a6;
  font-weight: bold;
}
pre.rouge .se {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .sc {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .si {
  color: #4df4ff;
  font-weight: bold;
}
pre.rouge .nb {
  font-weight: bold;
}
pre.rouge .ni {
  color: #999999;
  font-weight: bold;
}
pre.rouge .w {
  color: #BBBBBB;
}
pre.rouge .go {
  color: #BBBBBB;
}
pre.rouge .nf, pre.rouge .fm {
  color: #a8e1fe;
}
pre.rouge .py {
  color: #a8e1fe;
}
pre.rouge .na {
  color: #a8e1fe;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #a8e1fe;
  font-weight: bold;
}
  </style>
 </body>
</html>
